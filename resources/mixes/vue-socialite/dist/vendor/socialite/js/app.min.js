webpackJsonp([1],{AzzF:function(t,n){},BoIp:function(t,n,e){"use strict";var a={name:"app",created:function(){this.initMainData()},methods:{initMainData:function(){var t=this,n=this.$store.state.apiUrl;this.$store.dispatch("getData",{url:n,thenFunction:function(n){var e=n.data.main;t.$store.dispatch("setMainData",e),t.$router.addRoutes(e.routes)},catchFunction:function(t){console.log("%c 获取主配置信息失败! ","background: #222; color: #bada55"),console.log("%c 请检查模板文件window.config.apiUrl配置参数是否正确,或者服务端是否通信正常。 ","background: #222; color: #bada55"),console.log("%c 服务端返回状态如下： ","background: #222; color: #bada55"),console.log(t)}})}}},i={render:function(){var t=this.$createElement;return(this._self._c||t)("router-view")},staticRenderFns:[]},c=e("Z0/y")(a,i,!1,null,null,null);n.a=c.exports},HBSQ:function(t,n){},NHnr:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e("PfM6"),i=e("FPU/"),c=e.n(i),o=e("aA9S"),s=e.n(o),r=e("pGKl"),l=e.n(r),u={name:"qrcode-item",props:{value:{type:String,required:!0},config:{type:Object},tag:{type:String,default:"canvas"}},render:function(t){return t(this.tag,this.$slots.default)},watch:{value:function(){this.generate()},config:function(){this.generate()}},mounted:function(){this.generate()},methods:{generate:function(){new l.a({element:this.$el}).set(s()({value:this.value},this.config))}}},d=e("Z0/y")(u,null,!1,null,null,null).exports,h=e("o/kp"),f={name:"socialite-scan",mixins:[{created:function(){this.broadcastHandler()},methods:{broadcastHandler:function(){var t=this,n=this.getBroadcast();switch(n.type){case"channel":this.echo=window.echo.channel(n.channel);break;case"private":this.echo=window.echo.private(n.channel)}Object(h.forIn)(this.getEventHandlers(),function(n,e){t.echo.listen("."+e,function(t){return n(t)})})}}}],data:function(){return{QRcode:"null",redirect:null,config:{size:320},state:!1}},computed:{apiUrl:function(){return this.$route.meta.apiUrl}},methods:{initData:function(){var t=this,n=this.apiUrl;this.$store.dispatch("getData",{apiUrl:n,thenFunction:function(n){t.QRcode=n.data.config.QRcode,t.redirect=n.data.config.redirect}})},getBroadcast:function(){var t=this.$store.state.mainData.config.broadcast;return{channel:t.channel,type:t.type}},getEventHandlers:function(){var t=this;return{"CoreCMF\\Socialite\\App\\Events\\LoginBroadcasting":function(n){n.state?location.href=t.redirect:t.state=!0}}}},mounted:function(){this.initData()}},p={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"qrcode"},[e("div",{staticClass:"main"},[t.state?e("div",{staticClass:"scanSuccess"},[e("i",{staticClass:"fa fa-check-circle"}),t._v(" "),e("span",[t._v("扫描成功")])]):e("qrcode-item",{attrs:{config:t.config},model:{value:t.QRcode,callback:function(n){t.QRcode=n},expression:"QRcode"}}),t._v(" "),e("div",{staticClass:"state"},[t._v("\n            使用手机扫码登录\n        ")])],1)])},staticRenderFns:[]};var v={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"scanqWap"},[n("div",{staticClass:"main"},[this._l(this.socialite,function(t,e){return n("a",{attrs:{href:t}},[n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-"+e}})])])}),this._v(" "),n("div",{staticClass:"state"},[this._v("\n            请选择登录方式\n        ")])],2)])},staticRenderFns:[]};var g=[d,e("Z0/y")(f,p,!1,function(t){e("ltNU")},null,null).exports,e("Z0/y")({name:"socialite-scanLogin",data:function(){return{socialite:null}},computed:{apiUrl:function(){return this.$route.meta.apiUrl}},methods:{initData:function(){var t=this,n=this.apiUrl;this.$store.dispatch("getData",{apiUrl:n,thenFunction:function(n){t.socialite=n.data.config.socialite}})}},mounted:function(){this.initData()}},v,!1,function(t){e("AzzF")},null,null).exports],m=function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];g.map(function(n){t.component(n.name,n)})};a.a.Vue.use(m);var b={broadcaster:window.config.broadcast.broadcaster,host:window.config.broadcast.host};window.echo=new c.a(b),a.a.start()},ltNU:function(t,n){}},["NHnr"]);
//# sourceMappingURL=app.min.js.map