webpackJsonp([1],{BoIp:function(t,n,e){"use strict";var a={name:"app",created:function(){this.initMainData()},methods:{initMainData:function(){var t=this,n=this.$store.state.apiUrl;this.$store.dispatch("getData",{url:n,thenFunction:function(n){var e=n.data.main;t.$store.dispatch("setMainData",e),t.$router.addRoutes(e.routes)},catchFunction:function(t){console.log("%c 获取主配置信息失败! ","background: #222; color: #bada55"),console.log("%c 请检查模板文件window.config.apiUrl配置参数是否正确,或者服务端是否通信正常。 ","background: #222; color: #bada55"),console.log("%c 服务端返回状态如下： ","background: #222; color: #bada55"),console.log(t)}})}}},i={render:function(){var t=this.$createElement;return(this._self._c||t)("router-view")},staticRenderFns:[]},o=e("Z0/y")(a,i,!1,null,null,null);n.a=o.exports},FPJ6:function(t,n){},HBSQ:function(t,n){},NHnr:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e("PfM6"),i=e("FPU/"),o=e.n(i),c=e("uAC3"),s=e.n(c),r=e("o/kp"),u={name:"socialite-scan",mixins:[{created:function(){this.broadcastHandler()},methods:{broadcastHandler:function(){var t=this,n=this.getBroadcast();switch(n.type){case"channel":this.echo=window.echo.channel(n.channel);break;case"private":this.echo=window.echo.private(n.channel)}Object(r.forIn)(this.getEventHandlers(),function(n,e){t.echo.listen("."+e,function(t){return n(t)})})}}}],data:function(){return{QRcode:"null",redirect:null,config:{size:320},state:!1}},computed:{apiUrl:function(){return this.$route.meta.apiUrl}},methods:{initData:function(){var t=this,n=this.apiUrl;this.$store.dispatch("getData",{apiUrl:n,thenFunction:function(n){t.QRcode=n.data.config.QRcode,t.redirect=n.data.config.redirect}})},getBroadcast:function(){var t=this.$store.state.mainData.config.broadcast;return{channel:t.channel,type:t.type}},getEventHandlers:function(){var t=this;return{"CoreCMF\\Socialite\\App\\Events\\LoginBroadcasting":function(n){n.state?(Object(r.forIn)(n.cookies,function(t,n){s.a.set(n,t)}),location.href=t.redirect):t.state=!0}}}},mounted:function(){this.initData()}},l={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"qrcode",attrs:{id:"app"}},[e("div",{staticClass:"main"},[t.state?e("div",{staticClass:"scanSuccess"},[e("i",{staticClass:"fa fa-check-circle"}),t._v(" "),e("span",[t._v("扫描成功")])]):e("qrcode-item",{attrs:{config:t.config},model:{value:t.QRcode,callback:function(n){t.QRcode=n},expression:"QRcode"}}),t._v(" "),e("div",{staticClass:"state"},[t._v("\n            使用手机扫码登录\n        ")])],1)])},staticRenderFns:[]};var d=e("Z0/y")(u,l,!1,function(t){e("FPJ6")},null,null).exports,h=e("aA9S"),f=e.n(h),p=e("pGKl"),g=e.n(p),v={name:"qrcode-item",props:{value:{type:String,required:!0},config:{type:Object},tag:{type:String,default:"canvas"}},render:function(t){return t(this.tag,this.$slots.default)},watch:{value:function(){this.generate()},config:function(){this.generate()}},mounted:function(){this.generate()},methods:{generate:function(){new g.a({element:this.$el}).set(f()({value:this.value},this.config))}}},m=[e("Z0/y")(v,null,!1,null,null,null).exports,d],b=function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];m.map(function(n){t.component(n.name,n)})};a.a.Vue.use(b);var w={broadcaster:window.config.broadcast.broadcaster,host:window.config.broadcast.host};window.echo=new o.a(w),a.a.start()}},["NHnr"]);
//# sourceMappingURL=app.min.js.map