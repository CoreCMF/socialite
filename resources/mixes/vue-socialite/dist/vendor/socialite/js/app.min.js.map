{"version":3,"sources":["webpack:///node_modules/builder-vue/src/components/app/app.vue","webpack:///./node_modules/builder-vue/src/components/app/app.vue?117d","webpack:///./node_modules/builder-vue/src/components/app/app.vue","webpack:///src/components/scan/scan.vue","webpack:///./src/components/mixins/echo.js","webpack:///./src/components/scan/scan.vue?f302","webpack:///./src/components/scan/scan.vue","webpack:///./src/components/scan/index.js","webpack:///src/components/qrcode-item/qrcode-item.vue","webpack:///./src/components/index.js","webpack:///./src/components/qrcode-item/qrcode-item.vue","webpack:///./src/main.js"],"names":["app","initMainData","this","apiUrl","main","mainData","routes","catchFunction","error","app_app","render","_h","$createElement","_self","_c","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__","scan","created","broadcastHandler","methods","_this","broadcast","getBroadcast","type","echo","window","channel","private","Object","lodash","getEventHandlers","handler","eventName","listen","response","thenFunction","QRcode","value","initData","scan_scan","_vm","staticClass","attrs","id","_v","config","model","callback","$$v","expression","_e","components_scan","ssrContext","qrcode_item","String","default","generate","$el","components","qrcode_item_normalizeComponent","src_components","Vue","arguments","length","undefined","map","component","name","src","use","options","broadcaster","host","echo_default","a","start"],"mappings":"oDAKA,IAAAA,QAEA,8BAEAC,uDAKAC,yBAcAC,mFAZAC,qCAEAC,yBAEAC,SASAC,uDANA,uGACA,iEACA,gDACAC,SCvBAC,GADiBC,OAFjB,WAA0B,IAAaC,EAAbT,KAAaU,eAAkD,OAA/DV,KAAuCW,MAAAC,IAAAH,GAAwB,gBAExEI,oBCYjBC,EAdAC,EAAA,OAcAC,CACAlB,EACAS,GATA,EAEA,KAEA,KAEA,MAUAU,EAAA,EAAAH,EAAA,uLCHAI,QAEA,0BCpBEC,QADa,WAEXnB,KAAKoB,oBAEPC,SACED,iBADO,WACa,IAAAE,EAAAtB,KACduB,EAAYvB,KAAKwB,eACrB,OAAQD,EAAUE,MAChB,IAAK,UACHzB,KAAK0B,KAAOC,OAAOD,KAAKE,QAAQL,EAAUK,SAC1C,MACF,IAAK,UACH5B,KAAK0B,KAAOC,OAAOD,KAAKG,QAAQN,EAAUK,SAG9CE,OAAAC,EAAA,MAAAD,CAAM9B,KAAKgC,mBAAoB,SAACC,EAASC,GACvCZ,EAAKI,KAAKS,OAAV,IAAqBD,EAAa,SAAAE,GAAA,OAAYH,EAAQG,yCDS9D,oBAIA,2DAIAnC,sCAIA,IAAAqB,EAAAtB,YACAC,gDAIAoC,gDAFAC,2EAKAf,2BAEAK,eAEAH,6JAMAc,iCAOAC,aE5DAC,GADiBjC,OAFjB,WAA0B,IAAAkC,EAAA1C,KAAaS,EAAAiC,EAAAhC,eAA0BE,EAAA8B,EAAA/B,MAAAC,IAAAH,EAAwB,OAAAG,EAAA,OAAiB+B,YAAA,SAAAC,OAA4BC,GAAA,SAAYjC,EAAA,OAAY+B,YAAA,SAAmB/B,EAAA,OAAYgC,OAAOC,GAAA,YAAeH,EAAAI,GAAA,KAAAJ,EAAA,OAAA9B,EAAA,eAA6CgC,OAAOG,OAAAL,EAAAK,QAAoBC,OAAQT,MAAAG,EAAA,OAAAO,SAAA,SAAAC,GAA4CR,EAAAJ,OAAAY,GAAeC,WAAA,YAAsBT,EAAAU,KAAAV,EAAAI,GAAA,KAAAlC,EAAA,OAAiC+B,YAAA,UAAoBD,EAAAI,GAAA,6CAExZjC,oBCCjB,ICFAwC,EDEAtC,EAAA,OAcAC,CACAE,EACAuB,GATA,EAVA,SAAAa,GACAvC,EAAA,SAaA,KAEA,MAUA,kDExBAwC,QAEA,iCAMAC,iBAEA,gBAQA1B,kBAKA0B,eAGA,4DAEAC,uCAOAC,mCAMAA,qCAIAA,+DAOAC,0BAEApB,OADAvC,KAEA+C,YCtDMa,GCHN7C,EAAA,OAcA8C,CACAN,EAVA,MAEA,EAEA,KAEA,KAEA,MAUA,QDlBEF,GAQFS,EANgB,SAAUC,GAAgBC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GACxCJ,EAAWO,IAAI,SAAAC,GACbL,EAAIK,UAAUA,EAAUC,KAAMD,MEHlCE,EAAA,EAAWP,IAAIQ,IAAIT,GAEnB,IAAIU,GACFC,YAAa9C,OAAOoB,OAAOxB,UAAUkD,YACrCC,KAAM/C,OAAOoB,OAAOxB,UAAUmD,MAEhC/C,OAAOD,KAAO,IAAIiD,EAAAC,EAAKJ,GAGvBF,EAAA,EAAWO","file":"vendor/socialite/js/app.min.js","sourcesContent":["<template>\n  <router-view></router-view>\n</template>\n\n<script>\nexport default {\n  name: 'app',\n  created () {\n    this.initMainData()\n  },\n  methods: {\n    /* [initMainData 通过apiUrl通信获取数据] */\n    initMainData () {\n      let _this = this\n      let thenFunction = function(Response) {\n        let mainData = Response.data.main\n        /* 设置主通信数据 */\n        _this.$store.dispatch('setMainData',mainData)\n        /* 初始化路由 */\n        _this.$router.addRoutes(mainData.routes)\n      }\n      let catchFunction = function(error) {\n        console.log('%c 获取主配置信息失败! ', 'background: #222; color: #bada55')\n        console.log('%c 请检查模板文件window.config.apiUrl配置参数是否正确,或者服务端是否通信正常。 ', 'background: #222; color: #bada55')\n        console.log('%c 服务端返回状态如下： ', 'background: #222; color: #bada55')\n        console.log(error)\n      }\n      let apiUrl = this.$store.state.apiUrl\n      this.$store.dispatch('getData',{ 'url':apiUrl, thenFunction, catchFunction })\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// node_modules/builder-vue/src/components/app/app.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('router-view')}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-914a32d2\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./node_modules/builder-vue/src/components/app/app.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./app.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./app.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-914a32d2\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./app.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/builder-vue/src/components/app/app.vue\n// module id = null\n// module chunks = ","<template>\n<div id=\"app\" class=\"qrcode\">\n    <div class=\"main\">\n        <div id=\"QRcode\"></div>\n        <qrcode-item\n         v-model=\"QRcode\"\n         :config=\"config\"\n         v-if=\"QRcode\"\n       />\n        <div class=\"state\">\n            使用手机扫码登录\n        </div>\n    </div>\n</div>\n</template>\n\n<script>\nimport Cookies from 'js-cookie'\nimport echo from '../mixins/echo'\nimport { forIn } from 'lodash'\nexport default {\n  name: 'socialite-scan',\n  mixins: [echo],\n  data () {\n    return {\n      QRcode: 'null',\n      config: {\n        size: 320\n      }\n    }\n  },\n  computed: {\n    apiUrl () {\n      return this.$route.meta.apiUrl\n    }\n  },\n  methods: {\n    initData () {\n      let apiUrl = this.apiUrl\n      let thenFunction = (Response) => {\n        this.QRcode = Response.data.config.QRcode\n      }\n      this.$store.dispatch('getData', {apiUrl, thenFunction})\n    },\n    getBroadcast () {\n      let broadcast = this.$store.state.mainData.config.broadcast\n      return {\n        channel: broadcast.channel,\n        type: broadcast.type\n      }\n    },\n    getEventHandlers () {\n      return {\n        'CoreCMF\\\\Socialite\\\\App\\\\Events\\\\LoginBroadcasting': response => {\n          forIn(response.cookies, (value, name) => {\n            Cookies.set(name, value)\n          })\n        }\n      }\n    }\n  },\n  mounted () {\n    this.initData()\n  }\n}\n</script>\n<style lang=\"scss\">\nbody{\n  margin: 0;\n}\n.qrcode {\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n\tbackground-color: #909399;\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100%;\n    >.main {\n    \tborder-radius: 4px;\n    \tbackground-color: #FFF;\n    \tpadding: 15px;\n        >.state {\n        \tmargin-top: 15px;\n        \tborder-radius: 4px;\n        \tbackground-color: #F56C6C;\n        \tcolor: #FFF;\n        \tpadding: 20px;\n        \tborder: 1px solid #E4E7ED;\n        \ttext-align: center\n        }\n    }\n\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/scan/scan.vue","import { forIn } from 'lodash'\nexport default {\n  created () {\n    this.broadcastHandler()\n  },\n  methods: {\n    broadcastHandler () {\n      let broadcast = this.getBroadcast()\n      switch (broadcast.type) {\n        case 'channel':\n          this.echo = window.echo.channel(broadcast.channel)\n          break\n        case 'private':\n          this.echo = window.echo.private(broadcast.channel)\n          break\n      }\n      forIn(this.getEventHandlers(), (handler, eventName) => {\n        this.echo.listen(`.${eventName}`, response => handler(response))\n      })\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/mixins/echo.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"qrcode\",attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"main\"},[_c('div',{attrs:{\"id\":\"QRcode\"}}),_vm._v(\" \"),(_vm.QRcode)?_c('qrcode-item',{attrs:{\"config\":_vm.config},model:{value:(_vm.QRcode),callback:function ($$v) {_vm.QRcode=$$v},expression:\"QRcode\"}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"state\"},[_vm._v(\"\\n            使用手机扫码登录\\n        \")])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-fbfbd934\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/components/scan/scan.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-fbfbd934\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./scan.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./scan.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./scan.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-fbfbd934\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./scan.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/scan/scan.vue\n// module id = null\n// module chunks = ","import Scan from './scan.vue'\nexport default Scan\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/scan/index.js","<script>\nimport QRious from 'qrious'\nexport default {\n  name: 'qrcode-item',\n  props: {\n    /*\n     * The value of the qrcode.\n     */\n    value: {\n      type: String,\n      required: true\n    },\n    /*\n     * The options for the qrcode generator.\n     * {@link https://github.com/lindell/JsQrcode#options}\n     */\n    config: {\n      type: Object\n    },\n\n    /*\n     * The tag of the component root element.\n     */\n    tag: {\n      type: String,\n      default: 'canvas'\n    }\n  },\n  render (createElement) {\n    return createElement(this.tag, this.$slots.default)\n  },\n  watch: {\n    /*\n     * Update qrcode when value change\n     */\n    value () {\n      this.generate()\n    },\n    /*\n     * Update qrcode when config change\n     */\n    config () {\n      this.generate()\n    }\n  },\n  mounted () {\n    this.generate()\n  },\n  methods: {\n    /**\n     * Generate qrcode\n     */\n    generate () {\n      let qr = new QRious({element: this.$el})\n      qr.set(Object.assign({\n        value: this.value\n      }, this.config))\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/qrcode-item/qrcode-item.vue","import scan from './scan'\nimport QrcodeItem from './qrcode-item'\n\nconst components = [\n  QrcodeItem,\n  scan\n]\nconst install = function (Vue, opts = {}) {\n  components.map(component => {\n    Vue.component(component.name, component)\n  })\n}\n\nexport default install\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/index.js","var normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./qrcode-item.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./qrcode-item.vue\"\n/* template */\nvar __vue_template__ = null\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/qrcode-item/qrcode-item.vue\n// module id = null\n// module chunks = ","// 引入依赖\nimport builderVue from 'builder-vue'\nimport Echo from 'laravel-echo'\n// 引用\nimport Socialite from './components'\n\nbuilderVue.Vue.use(Socialite)\n\nlet options = {\n  broadcaster: window.config.broadcast.broadcaster,\n  host: window.config.broadcast.host\n}\nwindow.echo = new Echo(options)\n\n// 启动自动构建\nbuilderVue.start()\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}